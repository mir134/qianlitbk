(function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;Maleskine.CollectionCategory=function(e){function n(){n.__super__.constructor.apply(this,arguments),$("#collection-categories-nav").on("click","a[data-category-id]",function(t){return function(e){var n;return n=$(e.currentTarget).data("category-id"),t.addActiveClass(e),$.ajax({url:$("#collection-categories-nav").data("fetch-url"),data:{category_id:n},dataType:"script",type:"GET",beforeSend:function(e){return t.loader.show(),e.setRequestHeader("X-PJAX","true")}}).done(function(){return Maleskine.Utils.initLaddaButton($("#list-container"))}).always(function(){return t.loader.hide()})}}(this)),$("#collection-categories-nav").on("click","a[data-dimension]",function(t){return function(e){return t.addActiveClass(e),$.ajax({url:"/trending/"+$(e.currentTarget).data("dimension"),dataType:"script",type:"GET",beforeSend:function(e){return t.loader.show(),e.setRequestHeader("X-PJAX","true")}}).done(function(){return Maleskine.Utils.initLaddaButton($("#list-container"))}).always(function(){return t.loader.hide()})}}(this)),$(".submit-btn").css("width",$(".subscribe-guide").outerWidth()),$(window).resize(function(){return function(){return $(".submit-btn").css("width",$(".subscribe-guide").outerWidth())}}(this))}return t(n,e),n.prototype.elements={".category":"collectionCategory",".loader-tiny":"loader"},n.prototype.addActiveClass=function(t){return $("ul.sort-nav li").removeClass("active"),$(t.currentTarget).parent().addClass("active")},n}(Maleskine.BaseModule)}).call(this),function(){var t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;Maleskine.CollectionIndex=function(e){function n(){n.__super__.constructor.apply(this,arguments),this.infiniteScroll(),this.navigationTab.pjaxTab({success:function(t){return function(){return t.infiniteScroll(),t.initSequenceType()}}(this)}),this.initFollowingState(),this.initSequenceType()}return t(n,e),n.prototype.elements={"ul.navigation":"navigationTab"},n.prototype.initFollowingState=function(){return $("body").on("mouseenter",".following a",function(){return $(this).html("<i class='fa fa-times'></i>"+I18n.t("reading.unsubscribe"))}),$("body").on("mouseleave",".following a",function(){return $(this).html("<i class='fa fa-check'></i>"+I18n.t("reading.subscribing"))})},n.prototype.initSequenceType=function(){return $(".sequence-nav").on("click","a[data-order-by]",function(t){var e,n;return e=$(t.currentTarget),n=e.siblings("img"),e.hasClass("active")||(e.siblings("[data-order-by]").removeClass("active"),e.addClass("active")),n.show(),$.getScript(Routes.collections_path({order_by:e.data("order-by"),category_id:e.data("category-id")})).always(function(){return n.hide()})})},n}(Maleskine.BaseModule)}.call(this);